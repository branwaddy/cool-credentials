{"ast":null,"code":"var _jsxFileName = \"/Users/brandonwaddy/cool-credentials/front/src/App.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { Link, BrowserRouter, Routes, Route } from 'react-router-dom';\nimport Register from \"./components/Register\";\nimport Home from \"./components/Home\";\nimport Login from \"./components/Login\";\nimport Credentials from \"./components/Credentials\";\nimport AddCred from \"./components/AddCred\";\nimport UpdateCred from \"./components/UpdateCred\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [tokenGenerated, generateToken] = useState(0);\n  const [currentUser, setUser] = useState(0);\n  const [currToken, setCurrToken] = useState();\n  const [credList, setList] = useState();\n  const [divName, setDiv] = useState(); // Function requests all jobs from back end, and saves state\n  // Function makes post request to endpoint 'url' with body 'data'\n\n  function postData(url, data) {\n    return fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(data)\n    }).then(response => response.json());\n  }\n\n  function getAuthData(token, url) {\n    return fetch(url, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": \"Bearer \" + token\n      }\n    }).then(response => response.json());\n  }\n\n  function register(inputUsername, inputPassword) {\n    const details = {\n      \"username\": inputUsername,\n      \"password\": inputPassword,\n      \"site\": \"credentials\"\n    };\n    postData('http://localhost:8080/register', details).then(data => {\n      const newToken = data.token;\n      generateToken(newToken);\n    }).catch(error => console.error(error));\n  }\n\n  function login(token) {\n    setCurrToken(token);\n    getAuthData(token, \"http://localhost:8080/login\").then(data => {\n      if (data.name) {\n        console.log(data);\n        const user = {\n          \"name\": data.name\n        };\n        setUser(user);\n      } else {\n        setUser(false);\n      }\n    }).catch(error => console.error(error));\n  }\n\n  function getCreds() {\n    getAuthData(currToken, \"http://localhost:8080/credentials\").then(result => {\n      setList(result[1]);\n      setDiv(result[0]);\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  function wipeToken() {\n    generateToken(0);\n  }\n\n  return /*#__PURE__*/_jsxDEV(BrowserRouter, {\n    children: /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/add-cred\",\n        element: /*#__PURE__*/_jsxDEV(AddCred, {\n          add: postCred\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 42\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/update-cred\",\n        element: /*#__PURE__*/_jsxDEV(UpdateCred, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 45\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/credentials\",\n        element: /*#__PURE__*/_jsxDEV(Credentials, {\n          getCreds: getCreds,\n          creds: credList,\n          divName: divName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 45\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/login\",\n        element: /*#__PURE__*/_jsxDEV(Login, {\n          submit: login,\n          user: currentUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 39\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/register\",\n        element: /*#__PURE__*/_jsxDEV(Register, {\n          submit: register,\n          token: tokenGenerated\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 42\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(Home, {\n          wipeToken: wipeToken\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 34\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"M+/mHlkQ7IIWmMeWyQ7bpxfB2iI=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/brandonwaddy/cool-credentials/front/src/App.js"],"names":["useState","Link","BrowserRouter","Routes","Route","Register","Home","Login","Credentials","AddCred","UpdateCred","App","tokenGenerated","generateToken","currentUser","setUser","currToken","setCurrToken","credList","setList","divName","setDiv","postData","url","data","fetch","method","headers","body","JSON","stringify","then","response","json","getAuthData","token","register","inputUsername","inputPassword","details","newToken","catch","error","console","login","name","log","user","getCreds","result","err","wipeToken","postCred"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\nimport { Link, BrowserRouter, Routes, Route } from 'react-router-dom';\nimport Register from \"./components/Register\";\nimport Home from \"./components/Home\";\nimport Login from \"./components/Login\";\nimport Credentials from \"./components/Credentials\";\nimport AddCred from \"./components/AddCred\";\nimport UpdateCred from \"./components/UpdateCred\";\n\nfunction App() {\n  const [tokenGenerated, generateToken] = useState(0);\n  const [currentUser, setUser] = useState(0);\n  const [currToken, setCurrToken] = useState();\n  const [credList, setList] = useState();\n  const [divName, setDiv] = useState();\n  // Function requests all jobs from back end, and saves state\n  \n  \n  // Function makes post request to endpoint 'url' with body 'data'\n  function postData(url, data){\n    return fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(data),\n    })\n    .then(response=>response.json());\n  }\n  function getAuthData(token, url){\n    return fetch(url, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": \"Bearer \" + token\n      },\n    })\n    .then(response=>response.json());\n  }\n\n  function register(inputUsername, inputPassword) {\n    const details = {\"username\": inputUsername, \"password\": inputPassword, \"site\": \"credentials\"};\n    postData('http://localhost:8080/register', details)\n    .then(data => {\n      const newToken = data.token;\n      generateToken(newToken);\n    })\n    .catch(error => console.error(error))\n  }\n  function login(token) {\n    setCurrToken(token);\n    getAuthData(token, \"http://localhost:8080/login\")\n    .then(data => {\n      if (data.name) {\n        console.log(data);\n        const user = {\"name\": data.name};\n        setUser(user);\n      }\n      else {\n        setUser(false);\n      }\n      \n    })\n    .catch(error => console.error(error))\n  }\n\n  function getCreds() {\n    getAuthData(currToken, \"http://localhost:8080/credentials\")\n    .then(result => {\n        setList(result[1]);\n        setDiv(result[0]);\n    })\n    .catch(err=>{\n        console.log(err);\n    })\n  }\n  function wipeToken() {\n    generateToken(0);\n  }\n  return (\n    <BrowserRouter>\n      \n      <Routes>\n        <Route path='/add-cred' element={<AddCred add={postCred}/>}/>\n        <Route path='/update-cred' element={<UpdateCred />}/>\n        <Route path='/credentials' element={<Credentials getCreds={getCreds} creds={credList} divName={divName}/>}/>\n        <Route path='/login' element={<Login submit={login} user={currentUser}/>}/>\n        <Route path='/register' element={<Register submit={register} token={tokenGenerated}/>}/>\n        <Route path='/' element={<Home wipeToken={wipeToken}/>}/>\n      </Routes>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}